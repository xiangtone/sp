<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="monthUsers">

	<typeAlias alias="dto" type="org.eredlab.g4.ccl.datastructure.impl.BaseDto"/>
	
			<select id="queryUserNumByPro" parameterClass="map" resultClass="dto">
				    select a.provid,b.province,count(distinct a.cpn) as usernum
				      from 
				      smscompanymonthorders.provinceid b left join  smscompanymonthorders.companys_user a on b.miscid=a.provid
				      where  left(a.addate,7)= #countdate# 
				             group by a.provid
			</select>	
			
				
</sqlMap>
